2025-05-11 17:04:47,676 - tts_task - ERROR - TaskID: cc8a247f-d960-47a2-a85e-59bfc0aafe95 - Folder: constant_id_4 - Message: Error in TTS task: cannot schedule new futures after interpreter shutdown
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 82, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 128, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 898, in multi_input_multi_ref_run_inference
    audio_segment, final_sample_rate, _ = infer_process(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 393, in infer_process
    return next(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 508, in infer_batch_process
    futures = [executor.submit(process_batch, gen_text) for gen_text in gen_text_batches]
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 508, in <listcomp>
    futures = [executor.submit(process_batch, gen_text) for gen_text in gen_text_batches]
  File "D:\python310\lib\concurrent\futures\thread.py", line 163, in submit
    raise RuntimeError('cannot schedule new futures after '
RuntimeError: cannot schedule new futures after interpreter shutdown
2025-05-16 13:39:31,992 - tts_task - ERROR - TaskID: 372ae0c2-0326-4f84-842a-e61725e5e66d - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: local variable 'torch' referenced before assignment
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 135, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 793, in multi_input_multi_ref_run_inference
    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
UnboundLocalError: local variable 'torch' referenced before assignment
2025-05-16 13:41:52,363 - tts_task - ERROR - TaskID: 7bc0b4a9-2985-4c22-a8b5-2e59a6cdf32b - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: local variable 'torch' referenced before assignment
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 135, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 793, in multi_input_multi_ref_run_inference
    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
UnboundLocalError: local variable 'torch' referenced before assignment
2025-05-16 13:42:38,096 - tts_task - ERROR - TaskID: c799a22f-3643-4920-ab8d-aa5000d7c5ff - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: local variable 'torch' referenced before assignment
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 135, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 794, in multi_input_multi_ref_run_inference
    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
UnboundLocalError: local variable 'torch' referenced before assignment
2025-05-16 13:49:24,223 - tts_task - ERROR - TaskID: 3305f9ea-dc6c-4597-af42-3354f9ee6e31 - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: local variable 'torch' referenced before assignment
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 135, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 794, in multi_input_multi_ref_run_inference
    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
UnboundLocalError: local variable 'torch' referenced before assignment
2025-05-16 14:06:59,103 - tts_task - ERROR - TaskID: 9e2e3e8b-d009-41d0-9164-7f6aa162eaa6 - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: local variable 'torch' referenced before assignment
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 135, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 794, in multi_input_multi_ref_run_inference
    device = torch.device("cuda" if torch.cuda.is_available() else "cpu")
UnboundLocalError: local variable 'torch' referenced before assignment
2025-05-16 14:14:24,857 - tts_task - ERROR - TaskID: 6d87ca14-55e2-4351-95a4-848ba3d6fe08 - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: 'identity'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 871, in multi_input_multi_ref_run_inference
    character_true_identity = sentence_data['identity']
KeyError: 'identity'
2025-05-16 14:18:14,203 - tts_task - ERROR - TaskID: 8f2e7924-6bf4-4b22-ad9b-dfe9889101a2 - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: 'identity'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 871, in multi_input_multi_ref_run_inference
    character_true_identity = sentence_data['identity']
KeyError: 'identity'
2025-05-16 14:21:41,142 - tts_task - ERROR - TaskID: 881c2717-777e-4377-8d37-49085518cf0c - Folder: ca74b063-0604-44a3-8666-62916477c0e9 - Message: Error in TTS task: 'identity'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 872, in multi_input_multi_ref_run_inference
    character_true_identity = sentence_data['identity']
KeyError: 'identity'
2025-05-18 19:24:41,027 - tts_task - ERROR - TaskID: 4d4bc726-3658-4716-a913-32b1435adb9e - Folder: 9634b5a4-299c-4d16-9d26-7b6613ef8b58 - Message: Error in TTS task: 'mild-trust_none'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 908, in multi_input_multi_ref_run_inference
    if voice not in voices[choosen_ref]:
KeyError: 'mild-trust_none'
2025-05-19 02:51:30,872 - tts_task - ERROR - TaskID: ab3c81bb-522c-4573-b0b9-a0ca60e1c7c1 - Folder: f1c7dd5a-61a2-4440-8720-0ca007be5b55 - Message: Error in TTS task: [Errno 2] No such file or directory: 'D:\\FINAL_CODE\\backend\\ai_service\\data\\voice_data\\temporary_output_voice_data\\text_to_speech\\f1c7dd5a-61a2-4440-8720-0ca007be5b55\\chunk_118_8_voice-actor_default_char-name_N/A_true-identity_Narrator.wav'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 937, in multi_input_multi_ref_run_inference
    with open(wave_path, "wb") as f:
FileNotFoundError: [Errno 2] No such file or directory: 'D:\\FINAL_CODE\\backend\\ai_service\\data\\voice_data\\temporary_output_voice_data\\text_to_speech\\f1c7dd5a-61a2-4440-8720-0ca007be5b55\\chunk_118_8_voice-actor_default_char-name_N/A_true-identity_Narrator.wav'
2025-05-20 00:30:29,655 - tts_task - ERROR - TaskID: 663671d7-8c42-4d34-996d-5e60b36d976e - Folder: 001e8627-c6eb-4851-b9db-a0267944bc66 - Message: Error in TTS task: 'mild-trust_none'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 908, in multi_input_multi_ref_run_inference
    if voice not in voices[choosen_ref]:
KeyError: 'mild-trust_none'
2025-05-20 02:45:59,402 - tts_task - ERROR - TaskID: 07e6cfe1-7a64-4a9e-b9dc-32a15e7ce2e7 - Folder: 56cd2708-06cd-4663-b93a-43d0dddc338f - Message: Error in TTS task: 'mild-trust_none'
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 908, in multi_input_multi_ref_run_inference
    if voice not in voices[choosen_ref]:
KeyError: 'mild-trust_none'
2025-06-14 13:52:12,578 - tts_task - ERROR - TaskID: 3fe5fc43-ab24-4487-8079-bea44de0ac4d - Folder: 62d2a073-5783-4775-bb1a-1cf81af856ef - Message: Error in TTS task: cannot schedule new futures after interpreter shutdown
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 917, in multi_input_multi_ref_run_inference
    audio_segment, final_sample_rate, _ = infer_process(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 393, in infer_process
    return next(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 508, in infer_batch_process
    futures = [executor.submit(process_batch, gen_text) for gen_text in gen_text_batches]
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 508, in <listcomp>
    futures = [executor.submit(process_batch, gen_text) for gen_text in gen_text_batches]
  File "D:\python310\lib\concurrent\futures\thread.py", line 163, in submit
    raise RuntimeError('cannot schedule new futures after '
RuntimeError: cannot schedule new futures after interpreter shutdown
2025-06-14 15:27:08,846 - tts_task - ERROR - TaskID: 2c48a9b2-2c81-4c18-a97a-ee519e155a37 - Folder: dc6eef43-3b17-494c-94c9-b06f358d9203 - Message: Error in TTS task: The paging file is too small for this operation to complete. (os error 1455)
Traceback (most recent call last):
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\app.py", line 94, in run_tts_task
    output_dir = generate_all_TTS_with_emotion(
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\process_generate_emotion_audio.py", line 137, in generate_all_TTS_with_emotion
    multi_input_multi_ref_run_inference(ref_data,text_data,output_dir,last_folder_name)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\infer_cli.py", line 823, in multi_input_multi_ref_run_inference
    _loaded_model = load_model(model_cls, model_cfg, ckpt_file, mel_spec_type=vocoder_name, vocab_file=vocab_file)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 268, in load_model
    model = load_checkpoint(model, ckpt_path, device, dtype=dtype, use_ema=use_ema)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\src\F5-TTS\src\f5_tts\infer\utils_infer.py", line 199, in load_checkpoint
    checkpoint = load_file(ckpt_path, device=device)
  File "D:\FINAL_CODE\backend\ai_service\service\text-to-speech-service\venv\lib\site-packages\safetensors\torch.py", line 313, in load_file
    with safe_open(filename, framework="pt", device=device) as f:
OSError: The paging file is too small for this operation to complete. (os error 1455)
